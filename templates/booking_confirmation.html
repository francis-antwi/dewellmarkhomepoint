{% extends 'index.html' %}
{% load static %}
{% block content %}
<section class="confirmation-section">
  <div class="confirmation-container">
    <div class="confirmation-card">
      <div class="confirmation-header">
        <div class="success-animation">
          <svg class="checkmark" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 52 52">
            <circle class="checkmark-circle" cx="26" cy="26" r="25" fill="none"/>
            <path class="checkmark-check" fill="none" d="M14.1 27.2l7.1 7.2 16.7-16.8"/>
          </svg>
          <div class="confetti">
            {% for i in "x"|rjust:"20" %}
            <div class="confetti-piece"></div>
            {% endfor %}
          </div>
        </div>
        
        <h1 class="confirmation-title">Your Booking is Confirmed!</h1>
        <p class="confirmation-subtitle">
          Thank you for choosing <span class="highlight">{{ booking.booked_property.title }}</span>
        </p>
        <p class="confirmation-instruction">
          A confirmation has been sent to your email. Please check your inbox.
        </p>
      </div>
      
      <div class="booking-details">
        <div class="detail-card">
          <div class="detail-header">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M3 5H21V19C21 20.1046 20.1046 21 19 21H5C3.89543 21 3 20.1046 3 19V5Z" stroke="currentColor" stroke-width="2"/>
              <path d="M3 10H21" stroke="currentColor" stroke-width="2"/>
              <path d="M10 14H7V17H10V14Z" stroke="currentColor" stroke-width="2"/>
            </svg>
            <h2>Booking Summary</h2>
          </div>
          
          <div class="detail-grid">
            <div class="detail-item">
              <div class="detail-icon">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z" stroke="currentColor" stroke-width="2"/>
                  <circle cx="12" cy="10" r="3" stroke="currentColor" stroke-width="2"/>
                </svg>
              </div>
              <div class="detail-content">
                <span class="detail-label">Property</span>
                <span class="detail-value">{{ booking.booked_property.title }}</span>
                <span class="detail-sublabel">{{ booking.booked_property.location }}</span>
              </div>
            </div>
            
            <div class="detail-item">
              <div class="detail-icon">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <rect x="3" y="4" width="18" height="18" rx="2" ry="2" stroke="currentColor" stroke-width="2"/>
                  <line x1="16" y1="2" x2="16" y2="6" stroke="currentColor" stroke-width="2"/>
                  <line x1="8" y1="2" x2="8" y2="6" stroke="currentColor" stroke-width="2"/>
                  <line x1="3" y1="10" x2="21" y2="10" stroke="currentColor" stroke-width="2"/>
                </svg>
              </div>
              <div class="detail-content">
                <span class="detail-label">Check-in</span>
                <span class="detail-value">{{ booking.start_date }}</span>
                <span class="detail-sublabel">From 3:00 PM</span>
              </div>
            </div>
            
            <div class="detail-item">
              <div class="detail-icon">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <rect x="3" y="4" width="18" height="18" rx="2" ry="2" stroke="currentColor" stroke-width="2"/>
                  <line x1="16" y1="2" x2="16" y2="6" stroke="currentColor" stroke-width="2"/>
                  <line x1="8" y1="2" x2="8" y2="6" stroke="currentColor" stroke-width="2"/>
                  <line x1="3" y1="10" x2="21" y2="10" stroke="currentColor" stroke-width="2"/>
                </svg>
              </div>
              <div class="detail-content">
                <span class="detail-label">Check-out</span>
                <span class="detail-value">{{ booking.end_date }}</span>
                <span class="detail-sublabel">Before 11:00 AM</span>
              </div>
            </div>
            
            <div class="detail-item">
              <div class="detail-icon">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z" stroke="currentColor" stroke-width="2"/>
                  <path d="M12 6V12L16 14" stroke="currentColor" stroke-width="2"/>
                </svg>
              </div>
              <div class="detail-content">
                <span class="detail-label">Duration</span>
                <span class="detail-value">{{ booking.duration }} nights</span>
                <span class="detail-sublabel">{{ booking.total_price }} total</span>
              </div>
            </div>
            
            <div class="detail-item">
              <div class="detail-icon">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M20 21V5C20 3.89543 19.1046 3 18 3H6C4.89543 3 4 3.89543 4 5V21L8 19L12 21L16 19L20 21Z" stroke="currentColor" stroke-width="2"/>
                  <path d="M16 7H8V12H16V7Z" stroke="currentColor" stroke-width="2"/>
                </svg>
              </div>
              <div class="detail-content">
                <span class="detail-label">Booking ID</span>
                <span class="detail-value">#{{ booking.id }}</span>
                <span class="detail-sublabel">Reference for inquiries</span>
              </div>
            </div>
            
            <div class="detail-item">
              <div class="detail-icon">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <circle cx="12" cy="12" r="3" stroke="currentColor" stroke-width="2"/>
                  <path d="M12 1v6M12 17v6M4.22 4.22l4.24 4.24M15.54 15.54l4.24 4.24M1 12h6M17 12h6M4.22 19.78l4.24-4.24M15.54 8.46l4.24-4.24" stroke="currentColor" stroke-width="2"/>
                </svg>
              </div>
              <div class="detail-content">
                <span class="detail-label">Status</span>
                <span class="detail-value status-badge">{{ booking.status|title }}</span>
                <span class="detail-sublabel">
                  {% if booking.status == 'confirmed' %}
                  Your booking is confirmed and ready!
                  {% else %}
                  Pending payment confirmation
                  {% endif %}
                </span>
              </div>
            </div>
          </div>
        </div>
        
        {% if booking.special_requests %}
        <div class="special-requests">
          <div class="requests-header">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z" stroke="currentColor" stroke-width="2"/>
            </svg>
            <h3>Special Requests</h3>
          </div>
          <div class="requests-content">
            <p>{{ booking.special_requests }}</p>
          </div>
        </div>
        {% endif %}
      </div>

      {% if booking.status == 'pending' and form %}
      <div class="payment-section">
        <div class="payment-header">
          <div class="payment-icon">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <rect x="2" y="4" width="20" height="16" rx="2" stroke="currentColor" stroke-width="2"/>
              <path d="M2 10H22" stroke="currentColor" stroke-width="2"/>
              <path d="M6 14H8" stroke="currentColor" stroke-width="2"/>
              <path d="M10 14H12" stroke="currentColor" stroke-width="2"/>
            </svg>
          </div>
          <h2>Complete Payment</h2>
          <span class="secure-badge">Secure Payment</span>
        </div>
        
        <form method="POST" class="payment-form">
          {% csrf_token %}
          <div class="payment-amount">
            <span>Total Amount</span>
            <span>â‚µ{{ form.initial.amount }}</span>
          </div>
          
          <div class="payment-fields">
            {{ form.as_p }}
          </div>
          
          <div class="payment-methods">
            <div class="method-card visa">Visa</div>
            <div class="method-card mastercard">Mastercard</div>
            <div class="method-card amex">Amex</div>
          </div>
          
          <button type="submit" class="payment-button">
            <span>Pay Now</span>
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M5 12H19M19 12L12 5M19 12L12 19" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
          </button>
          
          <div class="payment-security">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M12 15V17M12 22C8.13401 22 5 18.866 5 15V10C5 6.13401 8.13401 3 12 3C15.866 3 19 6.13401 19 10V15C19 18.866 15.866 22 12 22Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
            <span>Your payment is securely processed</span>
          </div>
        </form>
      </div>
      {% endif %}
      
      <div class="confirmation-actions">
        <a href="{% url 'my_bookings' %}" class="action-button primary">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M9 12L11 14L15 10M21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3C16.9706 3 21 7.02944 21 12Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
          View My Bookings
        </a>
        <a href="/" class="action-button secondary">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M3 12L5 10M5 10L12 3L19 10M5 10V20C5 20.5523 5.44772 21 6 21H9M19 10L21 12M19 10V20C19 20.5523 18.5523 21 18 21H15M9 21C9.55228 21 10 20.5523 10 20V16C10 15.4477 10.4477 15 11 15H13C13.5523 15 14 15.4477 14 16V20C14 20.5523 14.4477 21 15 21M9 21H15" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
          Back to Home
        </a>
      </div>
      
      <div class="confirmation-footer">
        <p>Need help? Contact our support team at <a href="mailto:support@example.com">support@example.com</a></p>
      </div>
    </div>
  </div>
</section>

<style>
:root {
  --primary: #4f46e5;
  --primary-light: #6366f1;
  --primary-dark: #4338ca;
  --success: #10b981;
  --success-light: #34d399;
  --success-dark: #059669;
  --warning: #f59e0b;
  --error: #ef4444;
  --gray-50: #f9fafb;
  --gray-100: #f3f4f6;
  --gray-200: #e5e7eb;
  --gray-300: #d1d5db;
  --gray-400: #9ca3af;
  --gray-500: #6b7280;
  --gray-600: #4b5563;
  --gray-700: #374151;
  --gray-800: #1f2937;
  --gray-900: #111827;
}

.confirmation-section {
  min-height: 100vh;
  background: linear-gradient(135deg, #f3f4f6 0%, #e5e7eb 100%);
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 2rem 1rem;
  font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
}

.confirmation-container {
  max-width: 800px;
  width: 100%;
}

.confirmation-card {
  background: white;
  border-radius: 16px;
  overflow: hidden;
  box-shadow: 0 10px 25px rgba(0, 0, 0, 0.08);
  position: relative;
}

.confirmation-header {
  padding: 3rem 2rem 2rem;
  text-align: center;
  background: linear-gradient(135deg, var(--primary) 0%, var(--primary-light) 100%);
  color: white;
  position: relative;
  overflow: hidden;
}

.confirmation-header::before {
  content: '';
  position: absolute;
  top: -50px;
  right: -50px;
  width: 150px;
  height: 150px;
  border-radius: 50%;
  background: rgba(255, 255, 255, 0.1);
}

.confirmation-header::after {
  content: '';
  position: absolute;
  bottom: -80px;
  left: -80px;
  width: 200px;
  height: 200px;
  border-radius: 50%;
  background: rgba(255, 255, 255, 0.05);
}

.success-animation {
  position: relative;
  width: 100px;
  height: 100px;
  margin: 0 auto 1.5rem;
}

.checkmark {
  width: 100px;
  height: 100px;
  border-radius: 50%;
  display: block;
  stroke-width: 4;
  stroke: white;
  stroke-miterlimit: 10;
  box-shadow: 0 0 0 rgba(79, 70, 229, 0.4);
  animation: checkmark-fill 0.4s ease-in-out 0.4s forwards, checkmark-scale 0.3s ease-in-out 0.9s both;
}

.checkmark-circle {
  stroke-dasharray: 166;
  stroke-dashoffset: 166;
  stroke-width: 4;
  stroke-miterlimit: 10;
  stroke: white;
  fill: none;
  animation: checkmark-stroke 0.6s cubic-bezier(0.65, 0, 0.45, 1) forwards;
}

.checkmark-check {
  transform-origin: 50% 50%;
  stroke-dasharray: 48;
  stroke-dashoffset: 48;
  animation: checkmark-stroke 0.3s cubic-bezier(0.65, 0, 0.45, 1) 0.8s forwards;
}

@keyframes checkmark-stroke {
  100% { stroke-dashoffset: 0; }
}

@keyframes checkmark-scale {
  0%, 100% { transform: none; }
  50% { transform: scale3d(1.1, 1.1, 1); }
}

@keyframes checkmark-fill {
  100% { box-shadow: inset 0 0 0 100px rgba(79, 70, 229, 0.1); }
}

.confetti {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
}

.confetti-piece {
  position: absolute;
  width: 8px;
  height: 16px;
  background: var(--success-light);
  opacity: 0;
  animation: confetti-drop 3s ease-in-out infinite;
}

.confetti-piece:nth-child(1) {
  left: 10%;
  transform: rotate(-10deg);
  animation-delay: 0.5s;
  background: #f59e0b;
}

.confetti-piece:nth-child(2) {
  left: 20%;
  transform: rotate(5deg);
  animation-delay: 1.3s;
  background: #10b981;
}

.confetti-piece:nth-child(3) {
  left: 30%;
  transform: rotate(-5deg);
  animation-delay: 0.8s;
  background: #3b82f6;
}

.confetti-piece:nth-child(4) {
  left: 40%;
  transform: rotate(15deg);
  animation-delay: 1.1s;
  background: #ef4444;
}

.confetti-piece:nth-child(5) {
  left: 50%;
  transform: rotate(-20deg);
  animation-delay: 0.3s;
  background: #8b5cf6;
}

.confetti-piece:nth-child(6) {
  left: 60%;
  transform: rotate(10deg);
  animation-delay: 1.7s;
  background: #ec4899;
}

.confetti-piece:nth-child(7) {
  left: 70%;
  transform: rotate(5deg);
  animation-delay: 0.9s;
  background: #14b8a6;
}

.confetti-piece:nth-child(8) {
  left: 80%;
  transform: rotate(-15deg);
  animation-delay: 1.5s;
  background: #f97316;
}

.confetti-piece:nth-child(9) {
  left: 90%;
  transform: rotate(0deg);
  animation-delay: 0.7s;
  background: #6366f1;
}

@keyframes confetti-drop {
  0% {
    opacity: 1;
    top: -10%;
    transform: rotate(0deg) translateX(0);
  }
  100% {
    opacity: 0;
    top: 100%;
    transform: rotate(360deg) translateX(20px);
  }
}

.confirmation-title {
  font-size: 2rem;
  font-weight: 800;
  margin-bottom: 0.5rem;
  position: relative;
  z-index: 1;
}

.confirmation-subtitle {
  font-size: 1.1rem;
  opacity: 0.9;
  margin-bottom: 0.5rem;
  position: relative;
  z-index: 1;
}

.highlight {
  font-weight: 600;
  color: white;
  text-decoration: underline;
  text-underline-offset: 2px;
}

.confirmation-instruction {
  font-size: 0.95rem;
  opacity: 0.8;
  margin-top: 1rem;
  position: relative;
  z-index: 1;
}

.booking-details {
  padding: 2rem;
}

.detail-card {
  background: var(--gray-50);
  border-radius: 12px;
  overflow: hidden;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
  margin-bottom: 1.5rem;
}

.detail-header {
  display: flex;
  align-items: center;
  gap: 0.75rem;
  padding: 1.25rem 1.5rem;
  background: var(--gray-100);
  border-bottom: 1px solid var(--gray-200);
}

.detail-header svg {
  width: 24px;
  height: 24px;
  color: var(--primary);
}

.detail-header h2 {
  font-size: 1.25rem;
  font-weight: 600;
  color: var(--gray-800);
  margin: 0;
}

.detail-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: 1rem;
  padding: 1.5rem;
}

.detail-item {
  display: flex;
  gap: 1rem;
  padding: 1rem;
  background: white;
  border-radius: 8px;
  border: 1px solid var(--gray-200);
  transition: all 0.2s ease;
}

.detail-item:hover {
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
  border-color: var(--primary-light);
}

.detail-icon {
  flex-shrink: 0;
  width: 40px;
  height: 40px;
  display: flex;
  align-items: center;
  justify-content: center;
  background: var(--gray-100);
  border-radius: 8px;
  color: var(--primary);
}

.detail-content {
  flex: 1;
  display: flex;
  flex-direction: column;
  gap: 0.25rem;
}

.detail-label {
  font-size: 0.75rem;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.05em;
  color: var(--gray-500);
}

.detail-value {
  font-size: 1rem;
  font-weight: 600;
  color: var(--gray-800);
}

.detail-sublabel {
  font-size: 0.8rem;
  color: var(--gray-500);
}

.status-badge {
  display: inline-block;
  padding: 0.25rem 0.75rem;
  border-radius: 20px;
  font-size: 0.75rem;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.05em;
}

.status-badge {
  background: var(--success-light);
  color: var(--success-dark);
}

.special-requests {
  background: white;
  border-radius: 12px;
  overflow: hidden;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
  border: 1px solid var(--gray-200);
}

.requests-header {
  display: flex;
  align-items: center;
  gap: 0.75rem;
  padding: 1rem 1.5rem;
  background: var(--gray-50);
  border-bottom: 1px solid var(--gray-200);
}

.requests-header svg {
  width: 24px;
  height: 24px;
  color: var(--primary);
}

.requests-header h3 {
  font-size: 1rem;
  font-weight: 600;
  color: var(--gray-800);
  margin: 0;
}

.requests-content {
  padding: 1.5rem;
}

.requests-content p {
  margin: 0;
  color: var(--gray-700);
  line-height: 1.6;
}

.payment-section {
  background: white;
  border-radius: 12px;
  overflow: hidden;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
  border: 1px solid var(--gray-200);
  margin-bottom: 1.5rem;
}

.payment-header {
  display: flex;
  align-items: center;
  gap: 0.75rem;
  padding: 1.25rem 1.5rem;
  background: var(--gray-50);
  border-bottom: 1px solid var(--gray-200);
  position: relative;
}

.payment-icon {
  width: 40px;
  height: 40px;
  display: flex;
  align-items: center;
  justify-content: center;
  background: var(--primary);
  border-radius: 8px;
  color: white;
}

.payment-header h2 {
  font-size: 1.25rem;
  font-weight: 600;
  color: var(--gray-800);
  margin: 0;
}

.secure-badge {
  position: absolute;
  right: 1.5rem;
  top: 50%;
  transform: translateY(-50%);
  font-size: 0.75rem;
  font-weight: 600;
  padding: 0.25rem 0.75rem;
  background: var(--success-light);
  color: var(--success-dark);
  border-radius: 20px;
  display: flex;
  align-items: center;
  gap: 0.25rem;
}

.secure-badge::before {
  content: 'ðŸ”’';
  font-size: 0.8rem;
}

.payment-form {
  padding: 1.5rem;
}

.payment-amount {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 1rem;
  background: var(--gray-50);
  border-radius: 8px;
  margin-bottom: 1.5rem;
}

.payment-amount span:first-child {
  font-size: 0.9rem;
  color: var(--gray-600);
}

.payment-amount span:last-child {
  font-size: 1.5rem;
  font-weight: 700;
  color: var(--gray-800);
}

.payment-fields {
  display: grid;
  gap: 1rem;
  margin-bottom: 1.5rem;
}

.payment-fields .field {
  display: flex;
  flex-direction: column;
  gap: 0.5rem;
}

.payment-fields label {
  font-size: 0.8rem;
  font-weight: 600;
  color: var(--gray-600);
  text-transform: uppercase;
  letter-spacing: 0.05em;
}

.payment-fields input,
.payment-fields select {
  padding: 0.75rem 1rem;
  border: 1px solid var(--gray-300);
  border-radius: 8px;
  font-size: 0.95rem;
  transition: all 0.2s ease;
}

.payment-fields input:focus,
.payment-fields select:focus {
  outline: none;
  border-color: var(--primary);
  box-shadow: 0 0 0 3px rgba(79, 70, 229, 0.1);
}

.payment-methods {
  display: flex;
  gap: 0.75rem;
  margin-bottom: 1.5rem;
}

.method-card {
  flex: 1;
  padding: 0.5rem;
  border: 1px solid var(--gray-200);
  border-radius: 6px;
  text-align: center;
  font-size: 0.8rem;
  font-weight: 600;
  color: white;
  cursor: pointer;
  transition: all 0.2s ease;
}

.method-card:hover {
  transform: translateY(-2px);
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
}

.visa {
  background: linear-gradient(135deg, #1a1f71, #0f3460);
}

.mastercard {
  background: linear-gradient(135deg, #eb001b, #ff5f00);
}

.amex {
  background: linear-gradient(135deg, #006fcf, #0048a3);
}

.payment-button {
  width: 100%;
  padding: 1rem;
  background: linear-gradient(135deg, var(--primary) 0%, var(--primary-light) 100%);
  color: white;
  border: none;
  border-radius: 8px;
  font-size: 1rem;
  font-weight: 600;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 0.5rem;
  cursor: pointer;
  transition: all 0.2s ease;
  margin-bottom: 1rem;
}

.payment-button:hover {
  background: linear-gradient(135deg, var(--primary-dark) 0%, var(--primary) 100%);
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(79, 70, 229, 0.2);
}

.payment-button svg {
  width: 20px;
  height: 20px;
  transition: transform 0.2s ease;
}

.payment-button:hover svg {
  transform: translateX(3px);
}

.payment-security {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 0.5rem;
  font-size: 0.8rem;
  color: var(--gray-500);
}

.payment-security svg {
  width: 16px;
  height: 16px;
  color: var(--success);
}

.confirmation-actions {
  display: flex;
  gap: 1rem;
  padding: 0 2rem 2rem;
}

.action-button {
  flex: 1;
  padding: 1rem;
  border-radius: 8px;
  font-size: 1rem;
  font-weight: 600;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 0.5rem;
  text-decoration: none;
  transition: all 0.2s ease;
}

.action-button svg {
  width: 20px;
  height: 20px;
}

.primary {
  background: linear-gradient(135deg, var(--primary) 0%, var(--primary-light) 100%);
  color: white;
}

.primary:hover {
  background: linear-gradient(135deg, var(--primary-dark) 0%, var(--primary) 100%);
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(79, 70, 229, 0.2);
}

.secondary {
  background: white;
  color: var(--gray-700);
  border: 1px solid var(--gray-300);
}

.secondary:hover {
  background: var(--gray-50);
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
}

.confirmation-footer {
  padding: 1.5rem 2rem;
  border-top: 1px solid var(--gray-200);
  text-align: center;
  font-size: 0.85rem;
  color: var(--gray-500);
}

.confirmation-footer a {
  color: var(--primary);
  text-decoration: none;
  font-weight: 600;
}

.confirmation-footer a:hover {
  text-decoration: underline;
}

@media (max-width: 768px) {
  .confirmation-header {
    padding: 2rem 1.5rem;
  }
  
  .confirmation-title {
    font-size: 1.75rem;
  }
  
  .confirmation-subtitle {
    font-size: 1rem;
  }
  
  .booking-details {
    padding: 1.5rem;
  }
  
  .detail-grid {
    grid-template-columns: 1fr;
  }
  
  .confirmation-actions {
    flex-direction: column;
    padding: 0 1.5rem 1.5rem;
  }
  
  .payment-header {
    flex-direction: column;
    align-items: flex-start;
    gap: 0.5rem;
    padding: 1rem;
  }
  
  .secure-badge {
    position: static;
    transform: none;
    margin-top: 0.5rem;
    align-self: flex-start;
  }
}

@media (max-width: 480px) {
  .confirmation-card {
    border-radius: 0;
  }
  
  .confirmation-section {
    padding: 0;
    background: white;
  }
  
  .confirmation-container {
    max-width: 100%;
  }
}
</style>

<script>
// Calculate and display booking duration
document.addEventListener('DOMContentLoaded', function() {
  const startDate = new Date('{{ booking.start_date|date:"Y-m-d" }}');
  const endDate = new Date('{{ booking.end_date|date:"Y-m-d" }}');
  const diffTime = Math.abs(endDate - startDate);
  const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));
  
  // Update duration display if element exists
  const durationElement = document.querySelector('.detail-value');
  if (durationElement) {
    durationElement.textContent = `${diffDays} nights`;
  }
  
  // Add animation to payment method cards
  const methodCards = document.querySelectorAll('.method-card');
  methodCards.forEach((card, index) => {
    card.style.animationDelay = `${index * 0.1}s`;
    card.classList.add('animate-in');
  });
  
  // Form validation for payment section
  const paymentForm = document.querySelector('.payment-form');
  if (paymentForm) {
    paymentForm.addEventListener('submit', function(e) {
      const inputs = this.querySelectorAll('input[required]');
      let isValid = true;
      
      inputs.forEach(input => {
        if (!input.value.trim()) {
          input.style.borderColor = 'var(--error)';
          isValid = false;
        }
      });
      
      if (!isValid) {
        e.preventDefault();
        
        // Add shake animation to invalid fields
        inputs.forEach(input => {
          if (!input.value.trim()) {
            input.style.animation = 'shake 0.5s';
            setTimeout(() => {
              input.style.animation = '';
            }, 500);
          }
        });
      }
    });
  }
});

// Add shake animation
const style = document.createElement('style');
style.textContent = `
  @keyframes shake {
    0%, 100% { transform: translateX(0); }
    25% { transform: translateX(-5px); }
    75% { transform: translateX(5px); }
  }
  
  @keyframes animate-in {
    0% { opacity: 0; transform: translateY(10px); }
    100% { opacity: 1; transform: translateY(0); }
  }
  
  .animate-in {
    animation: animate-in 0.3s ease-out forwards;
    opacity: 0;
  }
`;
document.head.appendChild(style);
</script>
{% endblock %}